<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Proyecto Túneles UCSM</title>
    
    <!-- Librerías -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Saira+Stencil+One&family=Roboto+Condensed:wght@400;700&family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cat: { DEFAULT: '#FFCD11', dark: '#DAAA00', black: '#101010', panel: '#1E1E1E' }
                    },
                    fontFamily: {
                        stencil: ['"Saira Stencil One"', 'cursive'],
                        sans: ['"Roboto Condensed"', 'sans-serif'],
                        mono: ['"Fira Code"', 'monospace'],
                    }
                }
            }
        }
    </script>
    
    <style>
        body { background-color: #050505; color: #e5e5e5; }
        
        /* --- MOTOR 3D CSS --- */
        .viewport-3d { 
            width: 100%; height: 280px; 
            background: #000; 
            position: relative; 
            overflow: hidden; 
            perspective: 800px;
            border-bottom: 4px solid #FFCD11;
        }

        /* ESCENA TBM */
        .tbm-tunnel { width: 100%; height: 100%; position: absolute; transform-style: preserve-3d; }
        .tunnel-wall {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid #333; border-radius: 50%; box-shadow: 0 0 50px #000;
            opacity: 0; animation: moveTunnel 3s linear infinite;
        }
        .w1 { width: 800px; height: 800px; animation-delay: 0s; }
        .w2 { width: 800px; height: 800px; animation-delay: 1s; }
        .w3 { width: 800px; height: 800px; animation-delay: 2s; }

        @keyframes moveTunnel {
            0% { transform: translate(-50%, -50%) translateZ(-500px); opacity: 0; border-color: #111; }
            20% { opacity: 1; border-color: #444; }
            100% { transform: translate(-50%, -50%) translateZ(200px); opacity: 0; border-color: #666; width: 900px; height: 900px; }
        }

        .cutter-head {
            position: absolute; top: 50%; left: 50%; width: 140px; height: 140px; margin-top: -70px; margin-left: -70px;
            border-radius: 50%; background: radial-gradient(circle, #222 30%, #FFCD11 35%, #997a00 40%, #111 100%);
            border: 4px dashed #333; box-shadow: inset 0 0 20px #000, 0 0 30px rgba(0,0,0,0.8);
            transform: translateZ(-100px); animation: spinHead 4s linear infinite; z-index: 10;
        }
        .disc { position: absolute; width: 18px; height: 18px; background: #888; border-radius: 50%; box-shadow: 2px 2px 5px #000; border: 1px solid #444; }
        @keyframes spinHead { from { transform: translateZ(-100px) rotate(0deg); } to { transform: translateZ(-100px) rotate(360deg); } }

        /* ESCENA PyV */
        .pyv-scene {
            width: 100%; height: 100%; background: radial-gradient(circle at center, #2a2a2a 0%, #000 80%);
            display: flex; align-items: center; justify-content: center; position: relative;
        }
        .rock-face-irregular {
            width: 200px; height: 160px; background: #1a1a1a;
            clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 100%, 0% 100%, 0% 20%);
            position: relative; box-shadow: inset 0 0 40px #000; border: 1px solid #333;
        }
        .drill-hole { width: 6px; height: 6px; background: #000; border-radius: 50%; position: absolute; box-shadow: 0 0 2px #fff; }
        .jumbo-arm {
            position: absolute; bottom: -20px; right: -20px; width: 150px; height: 20px; background: #FFCD11;
            transform: rotate(-30deg); border: 1px solid #000;
        }

        /* UI */
        input[type=range] { -webkit-appearance: none; background: transparent; width: 100%; cursor: pointer; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 16px; width: 16px; background: #FFCD11; border: 2px solid #000; border-radius: 0; margin-top: -6px; transform: rotate(45deg); }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; background: #444; }
        
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const Icon = ({ d, c }) => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={c}><path d={d} /></svg>;
        
        const icons = {
            chart: "M3 3v18h18 M18 17V9 M13 17V5 M8 17v-3",
            gear: "M12 2v20M2 12h20M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10",
            scale: "M12 3v18m-9-6l9 6 9-6m-18-6l9 6 9-6",
            check: "M20 6L9 17l-5-5",
            time: "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",
            info: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
            down: "M19 9l-7 7-7-7"
        };

        // --- COMPONENTES VISUALES ---
        const TBMView = () => (
            <div className="viewport-3d">
                <div className="tbm-tunnel">
                    <div className="tunnel-wall w1"></div><div className="tunnel-wall w2"></div><div className="tunnel-wall w3"></div>
                    <div className="cutter-head">
                        <div className="disc" style={{top:'20px', left:'60px'}}></div>
                        <div className="disc" style={{bottom:'20px', left:'60px'}}></div>
                        <div className="disc" style={{top:'60px', left:'20px'}}></div>
                        <div className="disc" style={{top:'60px', right:'20px'}}></div>
                        <div className="disc" style={{top:'45px', left:'45px', width:'10px', height:'10px', background:'#000'}}></div>
                    </div>
                </div>
                <div className="absolute top-3 left-3 bg-cat text-black font-bold text-xs px-2 py-1 rounded font-mono">VISTA TBM</div>
            </div>
        );

        const PyVView = () => (
            <div className="viewport-3d">
                <div className="pyv-scene">
                    <div className="rock-face-irregular">
                        <div className="drill-hole" style={{top:'30%', left:'30%'}}></div>
                        <div className="drill-hole" style={{top:'30%', right:'30%'}}></div>
                        <div className="drill-hole" style={{top:'50%', left:'50%'}}></div>
                        <div className="drill-hole" style={{bottom:'30%', left:'30%'}}></div>
                        <div className="drill-hole" style={{bottom:'30%', right:'30%'}}></div>
                    </div>
                    <div className="jumbo-arm"></div>
                </div>
                <div className="absolute top-3 left-3 bg-orange-600 text-white font-bold text-xs px-2 py-1 rounded font-mono">VISTA JUMBO</div>
            </div>
        );

        // --- 1. SIMULADOR DE COSTOS AVANZADO ---
        const Simulator = () => {
            const [len, setLen] = useState(6);
            
            // Variables PyV
            const [pyvInv, setPyvInv] = useState(2);
            const [pyvMat, setPyvMat] = useState(4);
            const [pyvSpeed, setPyvSpeed] = useState(5);
            const [pyvHourly, setPyvHourly] = useState(500);

            // Variables TBM
            const [tbmInv, setTbmInv] = useState(15);
            const [tbmMat, setTbmMat] = useState(2);
            const [tbmSpeed, setTbmSpeed] = useState(20);
            const [tbmHourly, setTbmHourly] = useState(2000);

            // Cálculos
            const daysPyV = (len * 1000) / pyvSpeed;
            const opCostPyV = (daysPyV * 24 * pyvHourly) / 1000000;
            const matCostPyV = (len * 1000 * (pyvMat * 1000)) / 1000000;
            const totalPyV = pyvInv + matCostPyV + opCostPyV;

            const daysTBM = (len * 1000) / tbmSpeed;
            const opCostTBM = (daysTBM * 24 * tbmHourly) / 1000000;
            const matCostTBM = (len * 1000 * (tbmMat * 1000)) / 1000000;
            const totalTBM = tbmInv + matCostTBM + opCostTBM;

            const winner = totalTBM < totalPyV ? 'TBM' : 'PyV';
            const savings = Math.abs(totalTBM - totalPyV).toFixed(1);

            return (
                <div className="animate-fade-in space-y-4">
                    <div className="grid lg:grid-cols-12 gap-4">
                        
                        {/* IZQUIERDA: Panel de Resultados Visual */}
                        <div className="lg:col-span-7 space-y-4">
                            <div className="bg-cat-panel rounded-lg overflow-hidden shadow-lg border border-gray-800">
                                {winner === 'TBM' ? <TBMView /> : <PyVView />}
                                <div className="p-4 bg-black/80 border-t border-cat flex justify-between items-center">
                                    <div>
                                        <div className="text-[10px] text-gray-400 uppercase">Opción Más Rentable</div>
                                        <div className={`text-2xl font-black ${winner==='TBM'?'text-cat':'text-orange-500'}`}>
                                            {winner === 'TBM' ? 'TUNELADORA' : 'VOLADURA'}
                                        </div>
                                    </div>
                                    <div className="text-right">
                                        <div className="text-[10px] text-gray-400 uppercase">Ahorro Estimado</div>
                                        <div className="text-2xl font-mono text-white">${savings}M</div>
                                    </div>
                                </div>
                            </div>

                            {/* Resumen de Tiempos */}
                            <div className="grid grid-cols-2 gap-2">
                                <div className="bg-gray-900 p-3 rounded border border-gray-800">
                                    <div className="text-[10px] text-orange-500 font-bold uppercase mb-1">Tiempo PyV</div>
                                    <div className="text-xl font-mono text-white">{Math.round(daysPyV)} <span className="text-xs text-gray-500">días</span></div>
                                </div>
                                <div className="bg-gray-900 p-3 rounded border border-gray-800">
                                    <div className="text-[10px] text-cat font-bold uppercase mb-1">Tiempo TBM</div>
                                    <div className="text-xl font-mono text-white">{Math.round(daysTBM)} <span className="text-xs text-gray-500">días</span></div>
                                </div>
                            </div>
                        </div>

                        {/* DERECHA: Controles Avanzados */}
                        <div className="lg:col-span-5 space-y-4 overflow-y-auto max-h-[600px] pr-1">
                            <div className="bg-cat-panel p-4 rounded border border-gray-700">
                                <div className="flex justify-between text-sm font-bold text-white mb-2 uppercase">
                                    <span>Distancia</span> <span className="text-cat font-mono">{len} km</span>
                                </div>
                                <input type="range" min="1" max="20" step="0.5" value={len} onChange={e=>setLen(+e.target.value)} />
                            </div>

                            <div className="bg-[#1a1a1a] p-4 rounded border-l-4 border-orange-500">
                                <div className="flex justify-between border-b border-gray-700 pb-2 mb-3">
                                    <h3 className="font-bold text-orange-500 text-sm">CONVENCIONAL (PyV)</h3>
                                    <span className="font-mono text-sm text-white">${totalPyV.toFixed(1)}M</span>
                                </div>
                                <div className="space-y-3">
                                    <ControlRow label="Inversión ($M)" val={pyvInv} set={setPyvInv} min={0.5} max={5} step={0.5} color="text-orange-400" />
                                    <ControlRow label="Materiales ($k/m)" val={pyvMat} set={setPyvMat} min={1} max={8} step={0.5} color="text-orange-400" />
                                    <ControlRow label="Avance (m/día)" val={pyvSpeed} set={setPyvSpeed} min={2} max={10} step={1} color="text-orange-400" />
                                    <ControlRow label="Costo Hora ($/h)" val={pyvHourly} set={setPyvHourly} min={200} max={1000} step={50} color="text-orange-400" />
                                </div>
                            </div>

                            <div className="bg-[#1a1a1a] p-4 rounded border-l-4 border-cat">
                                <div className="flex justify-between border-b border-gray-700 pb-2 mb-3">
                                    <h3 className="font-bold text-cat text-sm">MECANIZADO (TBM)</h3>
                                    <span className="font-mono text-sm text-white">${totalTBM.toFixed(1)}M</span>
                                </div>
                                <div className="space-y-3">
                                    <ControlRow label="Inversión ($M)" val={tbmInv} set={setTbmInv} min={10} max={40} step={1} color="text-cat" />
                                    <ControlRow label="Materiales ($k/m)" val={tbmMat} set={setTbmMat} min={1} max={5} step={0.5} color="text-cat" />
                                    <ControlRow label="Avance (m/día)" val={tbmSpeed} set={setTbmSpeed} min={10} max={40} step={1} color="text-cat" />
                                    <ControlRow label="Costo Hora ($/h)" val={tbmHourly} set={setTbmHourly} min={1000} max={5000} step={100} color="text-cat" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const ControlRow = ({ label, val, set, min, max, step, color }) => (
            <div>
                <div className="flex justify-between text-[10px] text-gray-400 uppercase font-bold mb-1">
                    {label} <span className={color}>{val}</span>
                </div>
                <input type="range" min={min} max={max} step={step} value={val} onChange={e=>set(+e.target.value)} />
            </div>
        );

        // --- 2. ASISTENTE CON REPORTE DE CAUSALIDAD ---
        const Wizard = () => {
            const [step, setStep] = useState(0);
            const [score, setScore] = useState(0);
            const [log, setLog] = useState([]);

            const qs = [
                { t: "Longitud", q: "1. LONGITUD TOTAL", opts: [{l:"< 3 KM", s:-5, why:"La longitud corta no amortiza el CAPEX de TBM."}, {l:"3 - 7 KM", s:0, why:"Longitud media; decisión depende de la geología."}, {l:"> 7 KM", s:5, why:"Gran longitud diluye la inversión y aprovecha velocidad TBM."}] },
                { t: "Geología", q: "2. TIPO DE ROCA", opts: [{l:"ROCA DURA", s:3, why:"Roca competente favorece avance rápido de TBM."}, {l:"SUELO BLANDO", s:5, why:"Riesgo de colapso alto en PyV; TBM Escudo es necesaria."}, {l:"FALLAS / MIXTO", s:-3, why:"Riesgo de atrapamiento TBM; PyV es más flexible."}] },
                { t: "Plazo", q: "3. TIEMPO DE INICIO", opts: [{l:"URGENTE (<2m)", s:-5, why:"No hay tiempo para fabricar/importar TBM."}, {l:"PLANIFICADO", s:2, why:"El cronograma permite la logística de TBM."}] },
                { t: "Vida Útil", q: "4. VIDA DEL TÚNEL", opts: [{l:"TEMPORAL", s:-2, why:"Inversión TBM injustificada para obra temporal."}, {l:"PERMANENTE", s:3, why:"Acabado de dovelas TBM ofrece mejor calidad final."}] },
                { t: "Agua", q: "5. NIVEL FREÁTICO", opts: [{l:"BAJO / SECO", s:0, why:"Sin impacto crítico en la elección."}, {l:"ALTA PRESIÓN", s:5, why:"TBM EPB es la única que garantiza estanqueidad durante excavación."}] }
            ];

            const vote = (opt) => {
                setScore(score + opt.s);
                setLog([...log, { factor: qs[step].t, choice: opt.l, impact: opt.s, reason: opt.why }]);
                setStep(step + 1);
            };

            if(step === qs.length) {
                const isTBM = score > 0;
                return (
                    <div className="animate-fade-in flex flex-col h-full">
                        <div className="bg-cat-panel rounded border border-gray-800 p-6 text-center mb-6 relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-2 h-full bg-cat"></div>
                            <h2 className="text-3xl font-stencil text-white mb-2">RECOMENDACIÓN</h2>
                            <div className={`text-5xl font-black mb-2 ${isTBM ? 'text-cat' : 'text-orange-500'}`}>
                                {isTBM ? 'MÉTODO TBM' : 'MÉTODO PyV'}
                            </div>
                            <p className="text-gray-400 text-xs font-mono mb-0">PUNTAJE DE DECISIÓN: {score}</p>
                        </div>

                        <div className="flex-1 overflow-y-auto pr-2 bg-[#151515] rounded border border-gray-800 p-4">
                            <h3 className="text-cat font-bold text-sm uppercase border-b border-gray-700 pb-2 mb-4 font-mono flex items-center gap-2">
                                <Icon d={icons.check} c="w-4 h-4"/> REPORTE DE CAUSALIDAD
                            </h3>
                            <div className="space-y-3">
                                {log.map((entry, i) => (
                                    <div key={i} className="flex gap-3 text-xs border-b border-gray-800 pb-2 last:border-0">
                                        <div className="font-mono text-gray-500 w-16 pt-1">{entry.factor}</div>
                                        <div className="flex-1">
                                            <div className="flex justify-between mb-1">
                                                <span className="text-white font-bold uppercase">{entry.choice}</span>
                                                <span className={`font-mono ${entry.impact > 0 ? 'text-cat' : entry.impact < 0 ? 'text-orange-500' : 'text-gray-500'}`}>
                                                    {entry.impact > 0 ? 'FAVORECE TBM' : entry.impact < 0 ? 'FAVORECE PyV' : 'NEUTRO'}
                                                </span>
                                            </div>
                                            <p className="text-gray-400 leading-relaxed">{entry.reason}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                        
                        <button onClick={()=>{setStep(0);setScore(0);setLog([])}} className="mt-6 bg-cat text-black font-bold py-3 w-full rounded uppercase tracking-widest hover:bg-white transition-colors">
                            NUEVO ANÁLISIS
                        </button>
                    </div>
                )
            }

            return (
                <div className="animate-fade-in p-6 h-[550px] flex flex-col justify-center bg-cat-panel rounded border border-gray-800">
                    <div className="text-cat text-xs font-mono mb-2">DECISIÓN {step+1} / {qs.length}</div>
                    <h2 className="text-3xl font-stencil text-white mb-8">{qs[step].q}</h2>
                    <div className="space-y-4">
                        {qs[step].opts.map((o,i) => (
                            <button key={i} onClick={()=>vote(o)} className="w-full py-4 px-6 bg-black border border-gray-700 text-white font-bold text-lg hover:border-cat hover:text-cat transition-all rounded-sm uppercase text-left flex justify-between items-center group">
                                <span>{o.l}</span>
                                <span className="text-xs text-gray-500 group-hover:text-black font-mono opacity-0 group-hover:opacity-100 transition-opacity">SELECCIONAR</span>
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        // --- 3. COMPARATIVA CON EXPLICACIONES DESPLEGABLES ---
        const Comparison = () => {
            const [open, setOpen] = useState(null);

            const items = [
                { t: "INVERSIÓN INICIAL (CAPEX)", v1: "MUY ALTA", v2: "BAJA", w: 2, exp: "La TBM requiere la fabricación de una máquina a medida, transporte y montaje (meses). PyV utiliza equipos estándar (Jumbos) fácilmente alquilables." },
                { t: "VELOCIDAD DE AVANCE", v1: "RÁPIDA (15-30m/d)", v2: "LENTA (4-8m/d)", w: 1, exp: "La TBM excava y sostiene simultáneamente en un proceso continuo. PyV es cíclico (perforar, cargar, volar, ventilar, desescombrar)." },
                { t: "FLEXIBILIDAD SECCIÓN", v1: "NULA (Circular)", v2: "ALTA (Herradura)", w: 2, exp: "Una TBM está diseñada para un solo diámetro. PyV permite cambiar la forma del túnel y hacer ensanches o galerías fácilmente." },
                { t: "SEGURIDAD PERSONAL", v1: "MÁXIMA (Escudo)", v2: "MEDIA", w: 1, exp: "En TBM, el personal trabaja protegido por el escudo de acero y el revestimiento ya instalado. En PyV, hay exposición al frente abierto antes del sostenimiento." },
                { t: "MOVILIZACIÓN", v1: "LENTA (Meses)", v2: "RÁPIDA (Semanas)", w: 2, exp: "Iniciar con TBM toma de 3 a 6 meses por fabricación y logística. PyV puede iniciar casi de inmediato si hay equipos disponibles." },
                { t: "VENTILACIÓN", v1: "EFICIENTE", v2: "COMPLEJA", w: 1, exp: "La TBM usa ductos eficientes y no genera gases de explosivos. PyV requiere tiempos muertos para ventilar los gases tóxicos post-voladura." },
                { t: "ENERGÍA", v1: "ELÉCTRICA", v2: "DIESEL / ELEC", w: 1, exp: "La TBM opera principalmente con electricidad de alta tensión (menor huella carbono operativa). PyV usa mucho diesel (equipos de carga y transporte)." }
            ];

            return (
                <div className="animate-fade-in space-y-4 pb-24">
                    {items.map((item, i) => (
                        <div key={i} className="bg-cat-panel border border-gray-800 rounded overflow-hidden cursor-pointer hover:border-cat transition-colors" onClick={() => setOpen(open === i ? null : i)}>
                            <div className="bg-black p-3 flex justify-between items-center border-b border-gray-800">
                                <span className="text-xs font-bold text-cat uppercase tracking-widest">{item.t}</span>
                                <Icon d={icons.down} c={`w-4 h-4 text-gray-500 transform transition-transform ${open === i ? 'rotate-180' : ''}`} />
                            </div>
                            
                            <div className="grid grid-cols-2 divide-x divide-gray-800">
                                <div className={`p-4 text-center ${item.w === 1 ? 'bg-cat/5' : ''}`}>
                                    <div className="text-[10px] text-gray-500 mb-1">TBM</div>
                                    <div className={`text-sm font-bold ${item.w === 1 ? 'text-cat' : 'text-gray-400'}`}>{item.v1}</div>
                                </div>
                                <div className={`p-4 text-center ${item.w === 2 ? 'bg-orange-900/10' : ''}`}>
                                    <div className="text-[10px] text-gray-500 mb-1">PyV</div>
                                    <div className={`text-sm font-bold ${item.w === 2 ? 'text-orange-500' : 'text-gray-400'}`}>{item.v2}</div>
                                </div>
                            </div>

                            {open === i && (
                                <div className="p-4 bg-[#151515] text-gray-400 text-xs leading-relaxed border-t border-gray-800 animation-fade-in">
                                    <strong className="text-white block mb-1 uppercase text-[10px]">Explicación Técnica:</strong>
                                    {item.exp}
                                </div>
                            )}
                        </div>
                    ))}
                </div>
            );
        };

        // --- APP PRINCIPAL ---
        const App = () => {
            const [tab, setTab] = useState('sim');

            return (
                <div className="min-h-screen font-sans text-gray-200 bg-black pb-20">
                    {/* HEADER */}
                    <header className="bg-cat-panel border-b-4 border-cat p-4 sticky top-0 z-50 shadow-lg mb-6">
                        <div className="flex justify-between items-end">
                            <div>
                                <h1 className="text-2xl font-stencil text-white leading-none tracking-tighter">
                                    <span className="text-cat">UCSM</span> MINING
                                </h1>
                                <div className="text-[10px] text-gray-500 font-mono tracking-widest mt-1">INGENIERÍA DE MINAS</div>
                            </div>
                        </div>
                    </header>

                    {/* CONTENIDO */}
                    <main className="max-w-5xl mx-auto px-4">
                        {tab === 'sim' && <Simulator />}
                        {tab === 'wiz' && <Wizard />}
                        {tab === 'comp' && <Comparison />}
                        
                        <div className="mt-12 mb-8 pt-8 border-t border-gray-800 text-center">
                            <div className="text-cat font-bold text-xs uppercase mb-2">PROYECTO ACADÉMICO</div>
                            <div className="text-gray-500 text-[10px] font-mono tracking-widest">
                                CREADO POR: GARCÍA • FLORES • PINTO
                            </div>
                            <div className="text-gray-600 text-[10px] mt-1 uppercase">Universidad Católica de Santa María</div>
                        </div>
                    </main>

                    {/* NAVEGACIÓN */}
                    <nav className="fixed bottom-0 w-full bg-cat-panel border-t border-gray-800 pb-safe z-50">
                        <div className="flex justify-around h-16 max-w-5xl mx-auto">
                            <button onClick={()=>setTab('sim')} className={`flex-1 flex flex-col items-center justify-center ${tab==='sim' ? 'text-cat border-t-2 border-cat bg-white/5' : 'text-gray-500'}`}>
                                <Icon d={icons.chart} c="w-6 h-6 mb-1" /><span className="text-[10px] font-bold uppercase">Simulador</span>
                            </button>
                            <button onClick={()=>setTab('wiz')} className={`flex-1 flex flex-col items-center justify-center ${tab==='wiz' ? 'text-cat border-t-2 border-cat bg-white/5' : 'text-gray-500'}`}>
                                <Icon d={icons.gear} c="w-6 h-6 mb-1" /><span className="text-[10px] font-bold uppercase">Asistente</span>
                            </button>
                            <button onClick={()=>setTab('comp')} className={`flex-1 flex flex-col items-center justify-center ${tab==='comp' ? 'text-cat border-t-2 border-cat bg-white/5' : 'text-gray-500'}`}>
                                <Icon d={icons.scale} c="w-6 h-6 mb-1" /><span className="text-[10px] font-bold uppercase">Comparar</span>
                            </button>
                        </div>
                    </nav>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
