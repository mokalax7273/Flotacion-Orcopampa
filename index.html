<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación y Optimización de Túneles: TBM vs PyV</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .active-tab { border-bottom: 2px solid #2563eb; color: #2563eb; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { 
            Hammer, Pickaxe, Ruler, Droplets, HardHat, TrendingUp, 
            AlertTriangle, CheckCircle, ChevronDown, ChevronUp, 
            Activity, DollarSign, Clock, Shield 
        } = lucide;

        // --- Data Components based on PDF Content ---

        const comparisonData = [
            {
                id: 'excavation',
                title: 'Excavación y Avance',
                icon: <Pickaxe size={24} />,
                description: 'La excavación implica la remoción de grandes volúmenes y define el cronograma crítico.',
                tbm: {
                    pros: ['Avance continuo y rápido en roca competente.', 'Perfil de excavación liso (menor sobre-excavación).', 'Mayor seguridad intrínseca para el personal.'],
                    cons: ['Alta inversión inicial y tiempos de montaje.', 'Poca flexibilidad ante cambios geológicos abruptos.', 'Dificultad en secciones variables.']
                },
                pyv: {
                    pros: ['Alta flexibilidad geométrica y geológica.', 'Menor inversión inicial en maquinaria.', 'Adaptable a secciones cortas y complejas.'],
                    cons: ['Ciclo discontinuo (perforación, carga, voladura, ventilación).', 'Mayor daño al macizo rocoso (sobre-excavación).', 'Requiere mayor sostenimiento pasivo.']
                }
            },
            {
                id: 'support',
                title: 'Sostenimiento y Revestimiento',
                icon: <Shield size={24} />,
                description: 'Esencial para la estabilidad, previniendo hundimientos y asegurando la vida útil.',
                tbm: {
                    pros: ['Colocación inmediata de dovelas (seguridad inmediata).', 'Calidad de revestimiento industrializada.', 'Menor necesidad de sostenimiento primario en roca buena.'],
                    cons: ['Logística compleja de dovelas.', 'Costos elevados de prefabricados.']
                },
                pyv: {
                    pros: ['Sostenimiento flexible (pernos, shotcrete, mallas).', 'Adaptable a la calidad de la roca metro a metro.'],
                    cons: ['Exposición del personal antes del sostenimiento.', 'Revestimiento final requiere encofrados adicionales.', 'Mayor variabilidad en costos de materiales.']
                }
            },
            {
                id: 'water',
                title: 'Gestión Hidrogeológica',
                icon: <Droplets size={24} />,
                description: 'El control de presión y drenaje es fundamental para la estabilidad y evitar colapsos.',
                tbm: {
                    pros: ['Modelos EPB/Slurry manejan altas presiones de agua en el frente.', 'Revestimiento estanco inmediato (dovelas con juntas).'],
                    cons: ['Riesgo de atrapamiento si la presión supera la capacidad de diseño.', 'Dificultad para tratamientos externos una vez pasada la máquina.']
                },
                pyv: {
                    pros: ['Facilidad para realizar inyecciones previas (paraguas, grouting).', 'Instalación flexible de drenes y galerías de alivio durante el avance.'],
                    cons: ['Ingreso constante de agua al túnel (necesidad de bombeo fuerte).', 'Riesgo de lavado de finos y desestabilización del frente.']
                }
            }
        ];

        const drainageMethods = [
            {
                title: "Drenes Horizontales",
                desc: "Se instalan en el fondo o hastiales. Permiten el flujo controlado hacia cunetas, reduciendo la presión hidrostática detrás de las paredes.",
                icon: <TrendingUp className="text-blue-500" />
            },
            {
                title: "Pozos de Drenaje",
                desc: "Perforaciones verticales estratégicas para recolectar agua subterránea y abatir el nivel freático antes o durante la excavación.",
                icon: <Activity className="text-blue-500" />
            },
            {
                title: "Galerías de Alivio",
                desc: "Túneles paralelos auxiliares que evacúan agua acumulada, reduciendo drásticamente la presión sobre la estructura principal.",
                icon: <Ruler className="text-blue-500" />
            }
        ];

        const injectionMaterials = [
            { name: "Lechada de Cemento", use: "Roca dura, fisuras grandes", benefit: "Sella filtraciones masivas y consolida el macizo." },
            { name: "Resinas Epoxi", use: "Fisuras finas", benefit: "Alta adherencia y curado rápido para zonas críticas." },
            { name: "Polímeros (Poliuretanos)", use: "Terrenos frágiles / Agua activa", benefit: "Se expanden con el agua, sellado flexible." },
            { name: "Silicatos", use: "Rocas porosas", benefit: "Alta penetración para impermeabilidad en porosidad." }
        ];

        // --- Sub-Components ---

        const Hero = ({ setActiveSection }) => (
            <div className="bg-slate-900 text-white p-8 rounded-xl mb-8 shadow-2xl relative overflow-hidden">
                <div className="relative z-10">
                    <h1 className="text-4xl font-bold mb-4">Evaluación y Optimización de Túneles</h1>
                    <p className="text-xl text-slate-300 max-w-2xl mb-6">
                        Plataforma técnica para el análisis comparativo entre métodos mecanizados (TBM) y convencionales (Perforación y Voladura), con énfasis en costos, optimización y control hidrogeológico.
                    </p>
                    <div className="flex gap-4">
                        <button onClick={() => setActiveSection('compare')} className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition flex items-center gap-2">
                            <Activity size={20} /> Comparativa Técnica
                        </button>
                        <button onClick={() => setActiveSection('water')} className="bg-slate-700 hover:bg-slate-600 text-white px-6 py-2 rounded-lg font-semibold transition flex items-center gap-2">
                            <Droplets size={20} /> Hidrogeología
                        </button>
                    </div>
                </div>
                <div className="absolute right-0 top-0 h-full w-1/3 bg-gradient-to-l from-blue-900 to-transparent opacity-50"></div>
            </div>
        );

        const ComparisonCard = ({ data }) => {
            const [isOpen, setIsOpen] = useState(false);

            return (
                <div className="bg-white rounded-lg shadow-md mb-4 overflow-hidden border border-slate-200 card-hover transition-all duration-300">
                    <div 
                        className="p-6 cursor-pointer flex justify-between items-center bg-slate-50 hover:bg-slate-100"
                        onClick={() => setIsOpen(!isOpen)}
                    >
                        <div className="flex items-center gap-4">
                            <div className="p-3 bg-blue-100 text-blue-700 rounded-full">
                                {data.icon}
                            </div>
                            <div>
                                <h3 className="text-xl font-bold text-slate-800">{data.title}</h3>
                                <p className="text-slate-500 text-sm hidden md:block">{data.description}</p>
                            </div>
                        </div>
                        {isOpen ? <ChevronUp className="text-slate-400" /> : <ChevronDown className="text-slate-400" />}
                    </div>
                    
                    {isOpen && (
                        <div className="p-6 grid md:grid-cols-2 gap-6 bg-white fade-in border-t border-slate-100">
                            {/* TBM Column */}
                            <div className="bg-blue-50 p-5 rounded-lg border border-blue-100">
                                <h4 className="font-bold text-blue-900 mb-3 flex items-center gap-2">
                                    <div className="w-2 h-2 bg-blue-600 rounded-full"></div> TBM (Mecanizado)
                                </h4>
                                <div className="space-y-4">
                                    <div>
                                        <p className="text-xs font-semibold text-blue-600 uppercase mb-1">Ventajas</p>
                                        <ul className="text-sm text-slate-700 space-y-1">
                                            {data.tbm.pros.map((item, i) => <li key={i} className="flex items-start gap-2"><CheckCircle size={14} className="mt-1 text-green-600 shrink-0"/> {item}</li>)}
                                        </ul>
                                    </div>
                                    <div>
                                        <p className="text-xs font-semibold text-red-500 uppercase mb-1">Desafíos</p>
                                        <ul className="text-sm text-slate-700 space-y-1">
                                            {data.tbm.cons.map((item, i) => <li key={i} className="flex items-start gap-2"><AlertTriangle size={14} className="mt-1 text-red-500 shrink-0"/> {item}</li>)}
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            {/* PyV Column */}
                            <div className="bg-orange-50 p-5 rounded-lg border border-orange-100">
                                <h4 className="font-bold text-orange-900 mb-3 flex items-center gap-2">
                                    <div className="w-2 h-2 bg-orange-600 rounded-full"></div> Perforación y Voladura
                                </h4>
                                <div className="space-y-4">
                                    <div>
                                        <p className="text-xs font-semibold text-orange-600 uppercase mb-1">Ventajas</p>
                                        <ul className="text-sm text-slate-700 space-y-1">
                                            {data.pyv.pros.map((item, i) => <li key={i} className="flex items-start gap-2"><CheckCircle size={14} className="mt-1 text-green-600 shrink-0"/> {item}</li>)}
                                        </ul>
                                    </div>
                                    <div>
                                        <p className="text-xs font-semibold text-red-500 uppercase mb-1">Desafíos</p>
                                        <ul className="text-sm text-slate-700 space-y-1">
                                            {data.pyv.cons.map((item, i) => <li key={i} className="flex items-start gap-2"><AlertTriangle size={14} className="mt-1 text-red-500 shrink-0"/> {item}</li>)}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const OptimizationSection = () => (
            <div className="grid md:grid-cols-3 gap-6 fade-in">
                <div className="bg-white p-6 rounded-lg shadow-sm border-t-4 border-green-500">
                    <div className="flex items-center gap-3 mb-4">
                        <Clock className="text-green-600" />
                        <h3 className="font-bold text-lg">Optimización de Tiempo</h3>
                    </div>
                    <ul className="text-slate-600 text-sm space-y-2">
                        <li>• Planificación meticulosa para anticipar geología adversa.</li>
                        <li>• Uso de software de gestión para seguimiento en tiempo real.</li>
                        <li>• Capacitación intensiva del personal para reducir errores.</li>
                    </ul>
                </div>
                <div className="bg-white p-6 rounded-lg shadow-sm border-t-4 border-blue-500">
                    <div className="flex items-center gap-3 mb-4">
                        <DollarSign className="text-blue-600" />
                        <h3 className="font-bold text-lg">Costos Operativos</h3>
                    </div>
                    <ul className="text-slate-600 text-sm space-y-2">
                        <li>• <strong>Mantenimiento:</strong> Revisiones regulares previenen paradas costosas.</li>
                        <li>• <strong>Servicios:</strong> Ventilación e iluminación son costos recurrentes altos.</li>
                        <li>• <strong>Personal:</strong> Inversión clave para eficiencia operativa.</li>
                    </ul>
                </div>
                <div className="bg-white p-6 rounded-lg shadow-sm border-t-4 border-purple-500">
                    <div className="flex items-center gap-3 mb-4">
                        <Ruler className="text-purple-600" />
                        <h3 className="font-bold text-lg">Diseño y Materiales</h3>
                    </div>
                    <ul className="text-slate-600 text-sm space-y-2">
                        <li>• Diseño geométrico que minimice tensiones estructurales.</li>
                        <li>• Materiales sostenibles adecuados al terreno.</li>
                        <li>• Balance entre sobre-excavación y espesor de revestimiento.</li>
                    </ul>
                </div>
            </div>
        );

        const HydrogeologySection = () => (
            <div className="fade-in space-y-8">
                <div className="bg-blue-900 text-white p-6 rounded-lg">
                    <h3 className="text-2xl font-bold mb-2 flex items-center gap-2"><AlertTriangle className="text-yellow-400"/> Riesgos Críticos</h3>
                    <p className="text-blue-200">El agua subterránea genera presiones hidrostáticas que desestabilizan las paredes, causan filtraciones corrosivas y pueden provocar sifonamiento (movimiento de agua bajo presión).</p>
                </div>

                <div className="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 className="text-xl font-bold text-slate-800 mb-4 border-b pb-2">Sistemas de Drenaje</h3>
                        <div className="space-y-4">
                            {drainageMethods.map((method, idx) => (
                                <div key={idx} className="bg-white p-4 rounded-lg shadow-sm flex gap-4 items-start">
                                    <div className="p-2 bg-blue-50 rounded-lg shrink-0">{method.icon}</div>
                                    <div>
                                        <h4 className="font-bold text-slate-800">{method.title}</h4>
                                        <p className="text-sm text-slate-600">{method.desc}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div>
                        <h3 className="text-xl font-bold text-slate-800 mb-4 border-b pb-2">Tecnologías de Inyección</h3>
                        <div className="bg-white rounded-lg shadow-sm overflow-hidden">
                            <table className="w-full text-sm text-left">
                                <thead className="bg-slate-100 text-slate-700">
                                    <tr>
                                        <th className="p-3">Material</th>
                                        <th className="p-3">Uso Principal</th>
                                        <th className="p-3">Beneficio</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-slate-100">
                                    {injectionMaterials.map((mat, idx) => (
                                        <tr key={idx} className="hover:bg-slate-50">
                                            <td className="p-3 font-medium text-blue-900">{mat.name}</td>
                                            <td className="p-3 text-slate-600">{mat.use}</td>
                                            <td className="p-3 text-slate-500 text-xs">{mat.benefit}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                            <div className="p-4 bg-slate-50 border-t border-slate-100 text-xs text-slate-500">
                                <p><strong>Proceso:</strong> Perforación &rarr; Inyección &rarr; Control de Presión &rarr; Curado.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );

        // --- Main App Component ---

        const App = () => {
            const [activeSection, setActiveSection] = useState('compare');

            return (
                <div className="max-w-6xl mx-auto p-4 md:p-8">
                    <Hero setActiveSection={setActiveSection} />

                    {/* Navigation Tabs */}
                    <div className="flex border-b border-slate-300 mb-8 overflow-x-auto">
                        <button 
                            onClick={() => setActiveSection('compare')}
                            className={`px-6 py-3 font-medium text-slate-600 hover:text-blue-600 transition whitespace-nowrap ${activeSection === 'compare' ? 'active-tab' : ''}`}
                        >
                            Comparativa de Métodos
                        </button>
                        <button 
                            onClick={() => setActiveSection('optimize')}
                            className={`px-6 py-3 font-medium text-slate-600 hover:text-blue-600 transition whitespace-nowrap ${activeSection === 'optimize' ? 'active-tab' : ''}`}
                        >
                            Optimización y Costos
                        </button>
                        <button 
                            onClick={() => setActiveSection('water')}
                            className={`px-6 py-3 font-medium text-slate-600 hover:text-blue-600 transition whitespace-nowrap ${activeSection === 'water' ? 'active-tab' : ''}`}
                        >
                            Drenaje e Impermeabilización
                        </button>
                    </div>

                    {/* Content Area */}
                    <div className="min-h-[400px]">
                        {activeSection === 'compare' && (
                            <div className="fade-in">
                                <h2 className="text-2xl font-bold text-slate-800 mb-6">Análisis Comparativo: Criterios de Selección</h2>
                                {comparisonData.map(data => (
                                    <ComparisonCard key={data.id} data={data} />
                                ))}
                            </div>
                        )}

                        {activeSection === 'optimize' && (
                            <div className="fade-in">
                                <h2 className="text-2xl font-bold text-slate-800 mb-6">Estrategias de Optimización del Proyecto</h2>
                                <OptimizationSection />
                            </div>
                        )}

                        {activeSection === 'water' && (
                            <div className="fade-in">
                                <h2 className="text-2xl font-bold text-slate-800 mb-6">Gestión Hidrogeológica y Riesgos</h2>
                                <HydrogeologySection />
                            </div>
                        )}
                    </div>

                    <footer className="mt-12 pt-8 border-t border-slate-200 text-center text-slate-400 text-sm">
                        <p>© 2024 Informe Técnico de Ingeniería. Basado en documentación de "Evaluación y Optimización de Túneles" y "Sistemas de Drenaje".</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

